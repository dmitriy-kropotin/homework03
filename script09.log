Script started on 2022-02-12 17:22:10+03:00
]0;tesla@ol85:~/homework03[tesla@ol85 homework03]$ cat va[K[KVagrantfile 
# -*- mode: ruby -*-
# vim: set ft=ruby :
home = ENV['HOME']
ENV["LC_ALL"] = "en_US.UTF-8"

MACHINES = {
  :lvm03 => {
        :box_name => "centos/7",
 #       :box_version => "1804.02",
#        :ip_addr => '192.168.11.101',
    :disks => {
        :sata1 => {
            :dfile => home + '/VirtualBox VMs/sata1.vdi',
            :size => 10240,
            :port => 1
        },
        :sata2 => {
            :dfile => home + '/VirtualBox VMs/sata2.vdi',
            :size => 2048, # Megabytes
            :port => 2
        },
        :sata3 => {
            :dfile => home + '/VirtualBox VMs/sata3.vdi',
            :size => 1024, # Megabytes
            :port => 3
        },
        :sata4 => {
            :dfile => home + '/VirtualBox VMs/sata4.vdi',
            :size => 1024,
            :port => 4
        }
    }
  },
}

Vagrant.configure("2") do |config|

#    config.vm.box_version = "1804.02"
    MACHINES.each do |boxname, boxconfig|
  
        config.vm.define boxname do |box|
  
            box.vm.box = boxconfig[:box_name]
            box.vm.host_name = boxname.to_s
  
            #box.vm.network "forwarded_port", guest: 3260, host: 3260+offset
  
           # box.vm.network "private_network", ip: boxconfig[:ip_addr]
  
            box.vm.provider :virtualbox do |vb|
                    vb.customize ["modifyvm", :id, "--memory", "256"]
                    needsController = false
            boxconfig[:disks].each do |dname, dconf|
                unless File.exist?(dconf[:dfile])
                  vb.customize ['createhd', '--filename', dconf[:dfile], '--variant', 'Fixed', '--size', dconf[:size]]
                                  needsController =  true
                            end
  
            end
                    if needsController == true
                       vb.customize ["storagectl", :id, "--name", "SATA", "--add", "sata" ]
                       boxconfig[:disks].each do |dname, dconf|
                           vb.customize ['storageattach', :id,  '--storagectl', 'SATA', '--port', dconf[:port], '--device', 0, '--type', 'hdd', '--medium', dconf[:dfile]]
                       end
                    end
            end
  
        box.vm.provision "shell", inline: <<-SHELL
            mkdir -p ~root/.ssh
            cp ~vagrant/.ssh/auth* ~root/.ssh
            yum install -y mdadm smartmontools hdparm gdisk
          SHELL
  
        end
    end
  end
  
]0;tesla@ol85:~/homework03[tesla@ol85 homework03]$ cat Vagrantfile lsblk[Kcat /etc/fstab[9Plsblk[K[K[K[K[Kvagrant up
[0mBringing machine 'lvm03' up with 'virtualbox' provider...[0m
[1m==> lvm03: Importing base box 'centos/7'...[0m
[0m[K[0m[0mProgress: 20%[0m[0m[K[0m[0mProgress: 40%[0m[0m[K[0m[0mProgress: 70%[0m[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> lvm03: Matching MAC address for NAT networking...[0m
[1m==> lvm03: Checking if box 'centos/7' version '2004.01' is up to date...[0m
[1m==> lvm03: Setting the name of the VM: homework03_lvm03_1644675766315_12779[0m
[1m==> lvm03: Clearing any previously set network interfaces...[0m
[1m==> lvm03: Preparing network interfaces based on configuration...[0m
[0m    lvm03: Adapter 1: nat[0m
[1m==> lvm03: Forwarding ports...[0m
[0m    lvm03: 22 (guest) => 2222 (host) (adapter 1)[0m
[1m==> lvm03: Running 'pre-boot' VM customizations...[0m
[1m==> lvm03: Booting VM...[0m
[1m==> lvm03: Waiting for machine to boot. This may take a few minutes...[0m
[0m    lvm03: SSH address: 127.0.0.1:2222[0m
[0m    lvm03: SSH username: vagrant[0m
[0m    lvm03: SSH auth method: private key[0m
[0m    lvm03: 
    lvm03: Vagrant insecure key detected. Vagrant will automatically replace
    lvm03: this with a newly generated keypair for better security.[0m
[0m    lvm03: 
    lvm03: Inserting generated public key within guest...[0m
[0m    lvm03: Removing insecure key from the guest if it's present...[0m
[0m    lvm03: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> lvm03: Machine booted and ready![0m
[1m==> lvm03: Checking for guest additions in VM...[0m
[0m    lvm03: No guest additions were detected on the base box for this VM! Guest
    lvm03: additions are required for forwarded ports, shared folders, host only
    lvm03: networking, and more. If SSH fails on this machine, please install
    lvm03: the guest additions and repackage the box to continue.
    lvm03: 
    lvm03: This is not an error message; everything may continue to work properly,
    lvm03: in which case you may ignore this message.[0m
[1m==> lvm03: Setting hostname...[0m
[1m==> lvm03: Rsyncing folder: /home/tesla/homework03/ => /vagrant[0m
[1m==> lvm03: Running provisioner: shell...[0m
[0m    lvm03: Running: inline script[0m
[0;32m    lvm03: Loaded plugins: fastestmirror[0m
[0;32m    lvm03: Determining fastest mirrors[0m
[0;32m    lvm03:  * base: mirror.corbina.net[0m
[0;32m    lvm03:  * extras: mirror.yandex.ru[0m
[0;32m    lvm03:  * updates: mirror.corbina.net[0m
[0;32m    lvm03: Resolving Dependencies[0m
[0;32m    lvm03: --> Running transaction check[0m
[0;32m    lvm03: ---> Package gdisk.x86_64 0:0.8.10-3.el7 will be installed[0m
[0;32m    lvm03: ---> Package hdparm.x86_64 0:9.43-5.el7 will be installed[0m
[0;32m    lvm03: ---> Package mdadm.x86_64 0:4.1-8.el7_9 will be installed[0m
[0;32m    lvm03: --> Processing Dependency: libreport-filesystem for package: mdadm-4.1-8.el7_9.x86_64[0m
[0;32m    lvm03: ---> Package smartmontools.x86_64 1:7.0-2.el7 will be installed[0m
[0;32m    lvm03: --> Processing Dependency: mailx for package: 1:smartmontools-7.0-2.el7.x86_64[0m
[0;32m    lvm03: --> Running transaction check[0m
[0;32m    lvm03: ---> Package libreport-filesystem.x86_64 0:2.1.11-53.el7.centos will be installed[0m
[0;32m    lvm03: ---> Package mailx.x86_64 0:12.5-19.el7 will be installed[0m
[0;32m    lvm03: --> Finished Dependency Resolution[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: Dependencies Resolved[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: ================================================================================[0m
[0;32m    lvm03:  Package                  Arch       Version                  Repository   Size[0m
[0;32m    lvm03: ================================================================================[0m
[0;32m    lvm03: Installing:[0m
[0;32m    lvm03:  gdisk                    x86_64     0.8.10-3.el7             base        190 k[0m
[0;32m    lvm03:  hdparm                   x86_64     9.43-5.el7               base         83 k[0m
[0;32m    lvm03:  mdadm                    x86_64     4.1-8.el7_9              updates     440 k[0m
[0;32m    lvm03:  smartmontools            x86_64     1:7.0-2.el7              base        546 k[0m
[0;32m    lvm03: Installing for dependencies:[0m
[0;32m    lvm03:  libreport-filesystem     x86_64     2.1.11-53.el7.centos     base         41 k[0m
[0;32m    lvm03:  mailx                    x86_64     12.5-19.el7              base        245 k[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: Transaction Summary[0m
[0;32m    lvm03: ================================================================================[0m
[0;32m    lvm03: Install  4 Packages (+2 Dependent packages)[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: Total download size: 1.5 M[0m
[0;32m    lvm03: Installed size: 4.3 M[0m
[0;32m    lvm03: Downloading packages:[0m
[0;32m    lvm03: Public key for libreport-filesystem-2.1.11-53.el7.centos.x86_64.rpm is not installed[0m
[0;31m    lvm03: warning: /var/cache/yum/x86_64/7/base/packages/libreport-filesystem-2.1.11-53.el7.centos.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY[0m
[0;32m    lvm03: Public key for mdadm-4.1-8.el7_9.x86_64.rpm is not installed[0m
[0;32m    lvm03: --------------------------------------------------------------------------------[0m
[0;32m    lvm03: Total                                              675 kB/s | 1.5 MB  00:02[0m
[0;32m    lvm03: Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7[0m
[0;31m    lvm03: Importing GPG key 0xF4A80EB5:[0m
[0;31m    lvm03:  Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>"[0m
[0;31m    lvm03:  Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5[0m
[0;31m    lvm03:  Package    : centos-release-7-8.2003.0.el7.centos.x86_64 (@anaconda)[0m
[0;31m    lvm03:  From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7[0m
[0;32m    lvm03: Running transaction check[0m
[0;32m    lvm03: Running transaction test[0m
[0;32m    lvm03: Transaction test succeeded[0m
[0;32m    lvm03: Running transaction[0m
[0;32m    lvm03:   Installing : libreport-filesystem-2.1.11-53.el7.centos.x86_64             1/6[0m
[0;32m    lvm03:   Installing : mailx-12.5-19.el7.x86_64                                     2/6[0m
[0;32m    lvm03:   Installing : 1:smartmontools-7.0-2.el7.x86_64                             3/6[0m
[0;32m    lvm03:   Installing : mdadm-4.1-8.el7_9.x86_64                                     4/6[0m
[0;32m    lvm03:   Installing : hdparm-9.43-5.el7.x86_64                                     5/6[0m
[0;32m    lvm03:   Installing : gdisk-0.8.10-3.el7.x86_64                                    6/6[0m
[0;32m    lvm03:   Verifying  : 1:smartmontools-7.0-2.el7.x86_64                             1/6[0m
[0;32m    lvm03:   Verifying  : mdadm-4.1-8.el7_9.x86_64                                     2/6[0m
[0;32m    lvm03:   Verifying  : gdisk-0.8.10-3.el7.x86_64                                    3/6[0m
[0;32m    lvm03:   Verifying  : mailx-12.5-19.el7.x86_64                                     4/6[0m
[0;32m    lvm03:   Verifying  : hdparm-9.43-5.el7.x86_64                                     5/6[0m
[0;32m    lvm03:   Verifying  : libreport-filesystem-2.1.11-53.el7.centos.x86_64             6/6[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: Installed:[0m
[0;32m    lvm03:   gdisk.x86_64 0:0.8.10-3.el7          hdparm.x86_64 0:9.43-5.el7[0m
[0;32m    lvm03:   mdadm.x86_64 0:4.1-8.el7_9           smartmontools.x86_64 1:7.0-2.el7[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: Dependency Installed:[0m
[0;32m    lvm03:   libreport-filesystem.x86_64 0:2.1.11-53.el7.centos mailx.x86_64 0:12.5-19.el7[0m
[0;32m    lvm03: [0m
[0;32m    lvm03: Complete![0m
]0;tesla@ol85:~/homework03[tesla@ol85 homework03]$ vagrant ssh
]0;vagrant@lvm03:~[?1034h[vagrant@lvm03 ~]$ lsblk
NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda      8:0    0  40G  0 disk 
â””â”€sda1   8:1    0  40G  0 part /
sdb      8:16   0  10G  0 disk 
sdc      8:32   0   2G  0 disk 
sdd      8:48   0   1G  0 disk 
sde      8:64   0   1G  0 disk 
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ lvm
-bash: lvm: command not found
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ pvcreate
-bash: pvcreate: command not found
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ yum install lvm2 xfsdump
Loaded plugins: fastestmirror
You need to be root to perform this command.
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ sudo -i 
]0;root@lvm03:~[?1034h[root@lvm03 ~]# yum instal [Kl lvm2 xfsdumo[Kp
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.corbina.net
 * extras: mirror.yandex.ru
 * updates: mirror.corbina.net
Resolving Dependencies
--> Running transaction check
---> Package lvm2.x86_64 7:2.02.187-6.el7_9.5 will be installed
--> Processing Dependency: lvm2-libs = 7:2.02.187-6.el7_9.5 for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: device-mapper-persistent-data >= 0.7.0-0.1.rc6 for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: liblvm2app.so.2.2(Base)(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: libdevmapper-event.so.1.02(Base)(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: liblvm2app.so.2.2()(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: libdevmapper-event.so.1.02()(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
--> Processing Dependency: libaio.so.1()(64bit) for package: 7:lvm2-2.02.187-6.el7_9.5.x86_64
---> Package xfsdump.x86_64 0:3.1.7-1.el7 will be installed
--> Processing Dependency: attr >= 2.0.0 for package: xfsdump-3.1.7-1.el7.x86_64
--> Running transaction check
---> Package attr.x86_64 0:2.4.46-13.el7 will be installed
---> Package device-mapper-event-libs.x86_64 7:1.02.170-6.el7_9.5 will be installed
---> Package device-mapper-persistent-data.x86_64 0:0.8.5-3.el7_9.2 will be installed
---> Package libaio.x86_64 0:0.3.109-13.el7 will be installed
---> Package lvm2-libs.x86_64 7:2.02.187-6.el7_9.5 will be installed
--> Processing Dependency: device-mapper-event = 7:1.02.170-6.el7_9.5 for package: 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64
--> Running transaction check
---> Package device-mapper-event.x86_64 7:1.02.170-6.el7_9.5 will be installed
--> Processing Dependency: device-mapper = 7:1.02.170-6.el7_9.5 for package: 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64
--> Running transaction check
---> Package device-mapper.x86_64 7:1.02.164-7.el7_8.1 will be updated
--> Processing Dependency: device-mapper = 7:1.02.164-7.el7_8.1 for package: 7:device-mapper-libs-1.02.164-7.el7_8.1.x86_64
---> Package device-mapper.x86_64 7:1.02.170-6.el7_9.5 will be an update
--> Running transaction check
---> Package device-mapper-libs.x86_64 7:1.02.164-7.el7_8.1 will be updated
---> Package device-mapper-libs.x86_64 7:1.02.170-6.el7_9.5 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

===================================================================================================================================
 Package                                     Arch                 Version                              Repository             Size
===================================================================================================================================
Installing:
 lvm2                                        x86_64               7:2.02.187-6.el7_9.5                 updates               1.3 M
 xfsdump                                     x86_64               3.1.7-1.el7                          base                  308 k
Installing for dependencies:
 attr                                        x86_64               2.4.46-13.el7                        base                   66 k
 device-mapper-event                         x86_64               7:1.02.170-6.el7_9.5                 updates               192 k
 device-mapper-event-libs                    x86_64               7:1.02.170-6.el7_9.5                 updates               192 k
 device-mapper-persistent-data               x86_64               0.8.5-3.el7_9.2                      updates               423 k
 libaio                                      x86_64               0.3.109-13.el7                       base                   24 k
 lvm2-libs                                   x86_64               7:2.02.187-6.el7_9.5                 updates               1.1 M
Updating for dependencies:
 device-mapper                               x86_64               7:1.02.170-6.el7_9.5                 updates               297 k
 device-mapper-libs                          x86_64               7:1.02.170-6.el7_9.5                 updates               325 k

Transaction Summary
===================================================================================================================================
Install  2 Packages (+6 Dependent packages)
Upgrade             ( 2 Dependent packages)

Total download size: 4.2 M
Is this ok [y/d/N]: y
Downloading packages:
No Presto metadata available for updates
(2/10): device-mapper-1.02.170-6.el7_9.5.x86_64.rpm 0% [                                         ]  0.0 B/s |    0 B  --:--:-- ETA (1/10): device-mapper-libs-1.02.170-6.el7_9.5.x86_64.rpm                                                    | 325 kB  00:00:00     
(2/10): attr-2.4.46-13.el7.x86_64.rpm                                                                       |  66 kB  00:00:00     
(3/10): device-mapper-event-1.02.170-6.el7_9.5.x86_64.rpm                                                   | 192 kB  00:00:00     
(4/10): device-mapper-event-libs-1.02.170-6.el7_9.5.x86_64.rpm                                              | 192 kB  00:00:00     
(5/10): device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64.rpm                                            | 423 kB  00:00:00     
(6/10): libaio-0.3.109-13.el7.x86_64.rpm                                                                    |  24 kB  00:00:00     
(8/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm         34% [==============                           ]  0.0 B/s | 1.4 MB  --:--:-- ETA (7/10): device-mapper-1.02.170-6.el7_9.5.x86_64.rpm                                                         | 297 kB  00:00:00     
(9/10): lvm2-libs-2.02.187-6.el7_9.5.x86_64.rpm    62% [=========================                ] 1.7 MB/s | 2.6 MB  00:00:00 ETA (8/10): xfsdump-3.1.7-1.el7.x86_64.rpm                                                                      | 308 kB  00:00:00     
(9/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm         86% [===================================-     ] 1.7 MB/s | 3.6 MB  00:00:00 ETA (9/10): lvm2-libs-2.02.187-6.el7_9.5.x86_64.rpm                                                             | 1.1 MB  00:00:01     
(10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        93% [======================================   ] 1.7 MB/s | 3.9 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        94% [======================================-  ] 1.6 MB/s | 4.0 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        95% [=======================================  ] 1.5 MB/s | 4.0 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        95% [=======================================  ] 1.4 MB/s | 4.0 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        97% [=======================================- ] 1.3 MB/s | 4.1 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        98% [======================================== ] 1.2 MB/s | 4.1 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm        99% [========================================-] 1.1 MB/s | 4.2 MB  00:00:00 ETA (10/10): lvm2-2.02.187-6.el7_9.5.x86_64.rpm                                                                 | 1.3 MB  00:00:03     
-----------------------------------------------------------------------------------------------------------------------------------
Total                                                                                              1.0 MB/s | 4.2 MB  00:00:04     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : libaio-0.3.109-13.el7.x86_64 [                                                                              ]  1/12  Installing : libaio-0.3.109-13.el7.x86_64 [############                                                                  ]  1/12  Installing : libaio-0.3.109-13.el7.x86_64 [########################                                                      ]  1/12  Installing : libaio-0.3.109-13.el7.x86_64 [############################################################################# ]  1/12  Installing : libaio-0.3.109-13.el7.x86_64                                                                                   1/12 
  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [                                                            ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [#########                                                   ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [###################                                         ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [############################                                ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [######################################                      ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [################################################            ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [####################################################        ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [#######################################################     ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64 [########################################################### ]  2/12  Updating   : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64                                                                 2/12 
  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [                                                                 ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [#                                                                ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [####                                                             ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [########                                                         ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [####################                                             ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [#################################                                ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [#####################################                            ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [#########################################                        ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [##############################################                   ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [###########################################################      ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [############################################################     ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [#############################################################    ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [##############################################################   ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64 [################################################################ ]  3/12  Updating   : 7:device-mapper-1.02.170-6.el7_9.5.x86_64                                                                      3/12 
  Installing : 7:device-mapper-event-libs-1.02.170-6.el7_9.5.x86_64 [                                                      ]  4/12  Installing : 7:device-mapper-event-libs-1.02.170-6.el7_9.5.x86_64 [#########################                             ]  4/12  Installing : 7:device-mapper-event-libs-1.02.170-6.el7_9.5.x86_64 [##################################################### ]  4/12  Installing : 7:device-mapper-event-libs-1.02.170-6.el7_9.5.x86_64                                                           4/12 
  Installing : 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64 [                                                           ]  5/12  Installing : 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64 [#                                                          ]  5/12  Installing : 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64 [########################################################   ]  5/12  Installing : 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64 [########################################################## ]  5/12  Installing : 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64                                                                5/12 
  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [                                                                     ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#                                                                    ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##                                                                   ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###                                                                  ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [####                                                                 ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [######                                                               ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [########                                                             ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#########                                                            ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##########                                                           ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###########                                                          ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#############                                                        ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###############                                                      ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [################                                                     ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#################                                                    ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##################                                                   ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [####################                                                 ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#####################                                                ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [######################                                               ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#######################                                              ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [########################                                             ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##########################                                           ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [############################                                         ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#############################                                        ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##############################                                       ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###############################                                      ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#################################                                    ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###################################                                  ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [####################################                                 ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#####################################                                ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [######################################                               ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [########################################                             ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#########################################                            ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##########################################                           ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###########################################                          ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [############################################                         ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##############################################                       ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [################################################                     ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#################################################                    ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##################################################                   ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###################################################                  ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#####################################################                ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [######################################################               ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#######################################################              ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [########################################################             ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#########################################################            ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##########################################################           ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [############################################################         ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#############################################################        ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##############################################################       ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [###############################################################      ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [################################################################     ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [##################################################################   ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64 [#################################################################### ]  6/12  Installing : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64                                                                          6/12 
  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [                                                      ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [##                                                    ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [####                                                  ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [#######                                               ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [##########                                            ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [############                                          ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [###############                                       ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [##################                                    ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [####################                                  ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [#######################                               ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [#########################                             ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [############################                          ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [###############################                       ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [##################################                    ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [####################################                  ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [######################################                ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [#########################################             ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [############################################          ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [##############################################        ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [#################################################     ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [###################################################   ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [####################################################  ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64 [##################################################### ]  7/12  Installing : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64                                                           7/12 
  Installing : attr-2.4.46-13.el7.x86_64 [                                                                                 ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [####                                                                             ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [##############                                                                   ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [#####################                                                            ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [########################                                                         ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [################################                                                 ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [##################################                                               ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [########################################                                         ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [##########################################                                       ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [###################################################                              ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [####################################################                             ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [######################################################                           ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [#########################################################                        ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [###########################################################                      ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [##############################################################                   ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [#################################################################                ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [####################################################################             ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [######################################################################           ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [#########################################################################        ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [############################################################################     ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [#############################################################################    ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [##############################################################################   ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [###############################################################################  ]  8/12  Installing : attr-2.4.46-13.el7.x86_64 [################################################################################ ]  8/12  Installing : attr-2.4.46-13.el7.x86_64                                                                                      8/12 
  Installing : xfsdump-3.1.7-1.el7.x86_64 [                                                                                ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [####                                                                            ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [##########                                                                      ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [################                                                                ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [####################                                                            ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [########################                                                        ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [#############################                                                   ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [###################################                                             ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [########################################                                        ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [#############################################                                   ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [###################################################                             ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [########################################################                        ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [###########################################################                     ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [#############################################################                   ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [###############################################################                 ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [################################################################                ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [####################################################################            ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [#######################################################################         ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [############################################################################    ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [#############################################################################   ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [##############################################################################  ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64 [############################################################################### ]  9/12  Installing : xfsdump-3.1.7-1.el7.x86_64                                                                                     9/12 
  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [                                                                          ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#                                                                         ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##                                                                        ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#####                                                                     ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [######                                                                    ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [########                                                                  ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#########                                                                 ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###########                                                               ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [############                                                              ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##############                                                            ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###############                                                           ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#################                                                         ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##################                                                        ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###################                                                       ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#####################                                                     ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [######################                                                    ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [########################                                                  ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#########################                                                 ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [############################                                              ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#############################                                             ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###############################                                           ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [################################                                          ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##################################                                        ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###################################                                       ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#####################################                                     ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [######################################                                    ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#######################################                                   ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#########################################                                 ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##########################################                                ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [############################################                              ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#############################################                             ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###############################################                           ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [################################################                          ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###################################################                       ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [####################################################                      ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [######################################################                    ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#######################################################                   ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [########################################################                  ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#########################################################                 ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##########################################################                ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###########################################################               ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#############################################################             ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##############################################################            ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [################################################################          ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#################################################################         ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [##################################################################        ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [###################################################################       ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [####################################################################      ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#####################################################################     ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [######################################################################    ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [#######################################################################   ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [########################################################################  ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64 [######################################################################### ] 10/12  Installing : 7:lvm2-2.02.187-6.el7_9.5.x86_64                                                                              10/12 
  Cleanup    : 7:device-mapper-libs-1.02.164-7.el7_8.1.x86_64                                                                11/12 
  Cleanup    : 7:device-mapper-1.02.164-7.el7_8.1.x86_64                                                                     12/12 
  Verifying  : 7:lvm2-2.02.187-6.el7_9.5.x86_64                                                                               1/12 
  Verifying  : xfsdump-3.1.7-1.el7.x86_64                                                                                     2/12 
  Verifying  : device-mapper-persistent-data-0.8.5-3.el7_9.2.x86_64                                                           3/12 
  Verifying  : 7:device-mapper-1.02.170-6.el7_9.5.x86_64                                                                      4/12 
  Verifying  : 7:device-mapper-event-1.02.170-6.el7_9.5.x86_64                                                                5/12 
  Verifying  : 7:lvm2-libs-2.02.187-6.el7_9.5.x86_64                                                                          6/12 
  Verifying  : attr-2.4.46-13.el7.x86_64                                                                                      7/12 
  Verifying  : libaio-0.3.109-13.el7.x86_64                                                                                   8/12 
  Verifying  : 7:device-mapper-libs-1.02.170-6.el7_9.5.x86_64                                                                 9/12 
  Verifying  : 7:device-mapper-event-libs-1.02.170-6.el7_9.5.x86_64                                                          10/12 
  Verifying  : 7:device-mapper-1.02.164-7.el7_8.1.x86_64                                                                     11/12 
  Verifying  : 7:device-mapper-libs-1.02.164-7.el7_8.1.x86_64                                                                12/12 

Installed:
  lvm2.x86_64 7:2.02.187-6.el7_9.5                                   xfsdump.x86_64 0:3.1.7-1.el7                                  

Dependency Installed:
  attr.x86_64 0:2.4.46-13.el7                                     device-mapper-event.x86_64 7:1.02.170-6.el7_9.5                  
  device-mapper-event-libs.x86_64 7:1.02.170-6.el7_9.5            device-mapper-persistent-data.x86_64 0:0.8.5-3.el7_9.2           
  libaio.x86_64 0:0.3.109-13.el7                                  lvm2-libs.x86_64 7:2.02.187-6.el7_9.5                            

Dependency Updated:
  device-mapper.x86_64 7:1.02.170-6.el7_9.5                     device-mapper-libs.x86_64 7:1.02.170-6.el7_9.5                    

Complete!
]0;root@lvm03:~[root@lvm03 ~]# pv [Kcreate /dev/sdb
  Physical volume "/dev/sdb" successfully created.
]0;root@lvm03:~[root@lvm03 ~]# lsblk
NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda      8:0    0  40G  0 disk 
â””â”€sda1   8:1    0  40G  0 part /
sdb      8:16   0  10G  0 disk 
sdc      8:32   0   2G  0 disk 
sdd      8:48   0   1G  0 disk 
sde      8:64   0   1G  0 disk 
]0;root@lvm03:~[root@lvm03 ~]# vgcreatr [K[Ke vgroot /dev/sdb
  Volume group "vgroot" successfully created
]0;root@lvm03:~[root@lvm03 ~]# lvcreate lvroot-lvrootnlvroot lvroot[C[C[C[C[C[C -l100$free[K[K[K[KFREE[1PFREE%FREE[C[C[C[C vgroot
  Logical volume "lvroot" created.
]0;root@lvm03:~[root@lvm03 ~]# lsblk
NAME            MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda               8:0    0  40G  0 disk 
â””â”€sda1            8:1    0  40G  0 part /
sdb               8:16   0  10G  0 disk 
â””â”€vgroot-lvroot 253:0    0  10G  0 lvm  
sdc               8:32   0   2G  0 disk 
sdd               8:48   0   1G  0 disk 
sde               8:64   0   1G  0 disk 
]0;root@lvm03:~[root@lvm03 ~]# mkfs.xfs /dev/[K/vgroot/lvroot 
meta-data=/dev/vgroot/lvroot     isize=512    agcount=4, agsize=655104 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=2620416, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
]0;root@lvm03:~[root@lvm03 ~]# mount /dev/vgroot/lvroot /mnt
]0;root@lvm03:~[root@lvm03 ~]# xfsdump -J - /dev/sda1 |xfsrestore -j[KJ - /mnt
xfsrestore: using file dump (drive_simple) strategy
xfsrestore: version 3.1.7 (dump format 3.0)
xfsdump: using file dump (drive_simple) strategy
xfsdump: version 3.1.7 (dump format 3.0)
xfsdump: level 0 dump of lvm03:/
xfsdump: dump date: Sat Feb 12 14:28:13 2022
xfsdump: session id: 61d506ab-359a-40a3-98d3-20923b15b95a
xfsdump: session label: ""
xfsdump: ino map phase 1: constructing initial dump list
xfsrestore: searching media for dump
xfsdump: ino map phase 2: skipping (no pruning necessary)
xfsdump: ino map phase 3: skipping (only one dump stream)
xfsdump: ino map construction complete
xfsdump: estimated dump size: 3295883136 bytes
xfsdump: creating dump session media file 0 (media 0, file 0)
xfsdump: dumping ino map
xfsdump: dumping directories
xfsrestore: examining media file 0
xfsrestore: dump description: 
xfsrestore: hostname: lvm03
xfsrestore: mount point: /
xfsrestore: volume: /dev/sda1
xfsrestore: session time: Sat Feb 12 14:28:13 2022
xfsrestore: level: 0
xfsrestore: session label: ""
xfsrestore: media label: ""
xfsrestore: file system id: 1c419d6c-5064-4a2b-953c-05b2c67edb15
xfsrestore: session id: 61d506ab-359a-40a3-98d3-20923b15b95a
xfsrestore: media id: 05efc68c-43d3-4c66-bed7-aab8eb0a6d74
xfsrestore: searching media for directory dump
xfsrestore: reading directories
xfsdump: dumping non-directory files
xfsrestore: 3023 directories and 32208 entries processed
xfsrestore: directory post-processing
xfsrestore: restoring non-directory files
xfsdump: ending media file
xfsdump: media file size 3258392744 bytes
xfsdump: dump size (non-dir files) : 3239683808 bytes
xfsdump: dump complete: 21 seconds elapsed
xfsdump: Dump Status: SUCCESS
xfsrestore: restore complete: 21 seconds elapsed
xfsrestore: Restore Status: SUCCESS
]0;root@lvm03:~[root@lvm03 ~]# for i in /proc/ /sys/ /dev/ /run/ /boot/; do mount --bind $i /mnt/$i; done
]0;root@lvm03:~[root@lvm03 ~]# cg[Khroot /mnt
]0;root@lvm03:/[?1034h[root@lvm03 /]# grub2-mkconfig -o /boot/gre[Kub2/grub.cfg 
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.10.0-1127.el7.x86_64
Found initrd image: /boot/initramfs-3.10.0-1127.el7.x86_64.img
done
]0;root@lvm03:/[root@lvm03 /]# cd /boot ; for i in `ls initramfs-*img`; do dracut -v $i `echo $i|sed "s/initramfs-//g;
> s/.img//g"` --force; done
Executing: /sbin/dracut -v initramfs-3.10.0-1127.el7.x86_64.img 3.10.0-1127.el7.x86_64 --force
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'plymouth' will not be installed, because command 'plymouthd' could not be found!
dracut module 'plymouth' will not be installed, because command 'plymouth' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
*** Including module: bash ***
*** Including module: nss-softokn ***
*** Including module: i18n ***
*** Including module: dm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 60-persistent-storage-dm.rules
Skipping udev rule: 55-dm.rules
*** Including module: kernel-modules ***
Omitting driver floppy
*** Including module: lvm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 56-lvm.rules
Skipping udev rule: 60-persistent-storage-lvm.rules
*** Including module: qemu ***
*** Including module: rootfs-block ***
*** Including module: terminfo ***
*** Including module: udev-rules ***
Skipping udev rule: 40-redhat-cpu-hotplug.rules
Skipping udev rule: 91-permissions.rules
*** Including module: biosdevname ***
*** Including module: systemd ***
*** Including module: usrmount ***
*** Including module: base ***
*** Including module: fs-lib ***
*** Including module: shutdown ***
*** Including modules done ***
*** Installing kernel module dependencies and firmware ***
*** Installing kernel module dependencies and firmware done ***
*** Resolving executable dependencies ***
*** Resolving executable dependencies done***
*** Hardlinking files ***
*** Hardlinking files done ***
*** Stripping files ***
*** Stripping files done ***
*** Generating early-microcode cpio image contents ***
*** No early-microcode cpio image needed ***
*** Store current command line parameters ***
*** Creating image file ***
*** Creating image file done ***
*** Creating initramfs image file '/boot/initramfs-3.10.0-1127.el7.x86_64.img' done ***
]0;root@lvm03:/boot[root@lvm03 boot]# exit
]0;root@lvm03:~[root@lvm03 ~]# reboot
Connection to 127.0.0.1 closed by remote host.
Connection to 127.0.0.1 closed.
]0;tesla@ol85:~/homework03[tesla@ol85 homework03]$ vagrant ssh[1Pupssh
Last login: Sat Feb 12 14:24:40 2022 from 10.0.2.2
]0;vagrant@lvm03:~[?1034h[vagrant@lvm03 ~]$ lsblk
NAME            MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda               8:0    0  40G  0 disk 
â””â”€sda1            8:1    0  40G  0 part 
sdb               8:16   0  10G  0 disk 
â””â”€vgroot-lvroot 253:0    0  10G  0 lvm  /
sdc               8:32   0   2G  0 disk 
sdd               8:48   0   1G  0 disk 
sde               8:64   0   1G  0 disk 
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ parted [K[K[K[K[K[K[Ksudo -i
]0;root@lvm03:~[?1034h[root@lvm03 ~]# parted /dev/sda
[?1034hGNU Parted 3.1
Using /dev/sda
Welcome to GNU Parted! Type 'help' to view a list of commands.
                                                                          (parted) p
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sda: 42.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  42.9GB  42.9GB  primary  xfs          boot

                                                                          (parted) rm 1
                                                                          (parted) p
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sda: 42.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start  End  Size  Type  File system  Flags

                                                                          (parted) mkpart primary xfs 0 c[K^C
                                                                          (parted) unit 1Gb
parted: invalid token: 1Gb
                                                                          Unit?  [compact]? Gb
                                                                          (parted) Gbunit 1Gbp[Krm 1p[Krm 1[K[K[K[KUb[K[Kmkpart primary xfs 0 1
                                                                          (parted) mkpart primary xfs 0 1[K[K[K1 100%
                                                                          (parted) p
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sda: 42.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type     File system  Flags
 1      0.00GB  1.00GB  1.00GB  primary  xfs
 2      1.00GB  42.9GB  41.9GB  primary

                                                                          (parted) ser pa[K[K[Kq [K[K 1 boot on
  align-check TYPE N                        check partition N for TYPE(min|opt) alignment
  help [COMMAND]                           print general help, or help on COMMAND
  mklabel,mktable LABEL-TYPE               create a new disklabel (partition table)
  mkpart PART-TYPE [FS-TYPE] START END     make a partition
  name NUMBER NAME                         name partition NUMBER as NAME
  print [devices|free|list,all|NUMBER]     display the partition table, available devices, free space, all found partitions, or a
        particular partition
  quit                                     exit program
  rescue START END                         rescue a lost partition near START and END
  
  resizepart NUMBER END                    resize partition NUMBER
  rm NUMBER                                delete partition NUMBER
  select DEVICE                            choose the device to edit
  disk_set FLAG STATE                      change the FLAG on selected device
  disk_toggle [FLAG]                       toggle the state of FLAG on selected device
  set NUMBER FLAG STATE                    change the FLAG on partition NUMBER
  toggle [NUMBER [FLAG]]                   toggle the state of FLAG on partition NUMBER
  unit UNIT                                set the default unit to UNIT
  version                                  display the version number and copyright information of GNU Parted
  align-check TYPE N                        check partition N for TYPE(min|opt) alignment
  help [COMMAND]                           print general help, or help on COMMAND
  mklabel,mktable LABEL-TYPE               create a new disklabel (partition table)
  mkpart PART-TYPE [FS-TYPE] START END     make a partition
  name NUMBER NAME                         name partition NUMBER as NAME
  print [devices|free|list,all|NUMBER]     display the partition table, available devices, free space, all found partitions, or a
        particular partition
  quit                                     exit program
  rescue START END                         rescue a lost partition near START and END
  
  resizepart NUMBER END                    resize partition NUMBER
  rm NUMBER                                delete partition NUMBER
  select DEVICE                            choose the device to edit
  disk_set FLAG STATE                      change the FLAG on selected device
  disk_toggle [FLAG]                       toggle the state of FLAG on selected device
  set NUMBER FLAG STATE                    change the FLAG on partition NUMBER
  toggle [NUMBER [FLAG]]                   toggle the state of FLAG on partition NUMBER
  unit UNIT                                set the default unit to UNIT
  version                                  display the version number and copyright information of GNU Parted
  align-check TYPE N                        check partition N for TYPE(min|opt) alignment
  help [COMMAND]                           print general help, or help on COMMAND
  mklabel,mktable LABEL-TYPE               create a new disklabel (partition table)
  mkpart PART-TYPE [FS-TYPE] START END     make a partition
  name NUMBER NAME                         name partition NUMBER as NAME
  print [devices|free|list,all|NUMBER]     display the partition table, available devices, free space, all found partitions, or a
        particular partition
  quit                                     exit program
  rescue START END                         rescue a lost partition near START and END
  
  resizepart NUMBER END                    resize partition NUMBER
  rm NUMBER                                delete partition NUMBER
  select DEVICE                            choose the device to edit
  disk_set FLAG STATE                      change the FLAG on selected device
  disk_toggle [FLAG]                       toggle the state of FLAG on selected device
  set NUMBER FLAG STATE                    change the FLAG on partition NUMBER
  toggle [NUMBER [FLAG]]                   toggle the state of FLAG on partition NUMBER
  unit UNIT                                set the default unit to UNIT
  version                                  display the version number and copyright information of GNU Parted
  align-check TYPE N                        check partition N for TYPE(min|opt) alignment
  help [COMMAND]                           print general help, or help on COMMAND
  mklabel,mktable LABEL-TYPE               create a new disklabel (partition table)
  mkpart PART-TYPE [FS-TYPE] START END     make a partition
  name NUMBER NAME                         name partition NUMBER as NAME
  print [devices|free|list,all|NUMBER]     display the partition table, available devices, free space, all found partitions, or a
        particular partition
  quit                                     exit program
  rescue START END                         rescue a lost partition near START and END
  
  resizepart NUMBER END                    resize partition NUMBER
  rm NUMBER                                delete partition NUMBER
  select DEVICE                            choose the device to edit
  disk_set FLAG STATE                      change the FLAG on selected device
  disk_toggle [FLAG]                       toggle the state of FLAG on selected device
  set NUMBER FLAG STATE                    change the FLAG on partition NUMBER
  toggle [NUMBER [FLAG]]                   toggle the state of FLAG on partition NUMBER
  unit UNIT                                set the default unit to UNIT
  version                                  display the version number and copyright information of GNU Parted
                                                                          (parted) ser 1 boot on[1P[1@t
                                                                          (parted) p
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sda: 42.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type     File system  Flags
 1      0.00GB  1.00GB  1.00GB  primary  xfs          boot
 2      1.00GB  42.9GB  41.9GB  primary

                                                                          (parted) q
Information: You may need to update /etc/fstab.

                                                                          ]0;root@lvm03:~[root@lvm03 ~]# mkfs.xfs de[K[K/dev/sda1-/dev/sda1[1P/dev/sda1
mkfs.xfs: /dev/sda1 appears to contain an existing filesystem (xfs).
mkfs.xfs: Use the -f option to force overwrite.
]0;root@lvm03:~[root@lvm03 ~]# mkfs.xfs /dev/sda1-/dev/sda1f/dev/sda1 /dev/sda1
meta-data=/dev/sda1              isize=512    agcount=4, agsize=60992 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=243968, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=855, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
]0;root@lvm03:~[root@lvm03 ~]# mkfs.xfs -f /dev/sda1[K2
meta-data=/dev/sda2              isize=512    agcount=4, agsize=2560384 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=10241536, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=5000, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
]0;root@lvm03:~[root@lvm03 ~]# mount /dev/sda1 /mnt
]0;root@lvm03:~[root@lvm03 ~]# cp -R /boot/* /mnt
]0;root@lvm03:~[root@lvm03 ~]# cd /mnt
]0;root@lvm03:/mnt[root@lvm03 mnt]# ll
total 22720
-rw-r--r--. 1 root root   153562 Feb 12 14:34 config-3.10.0-1127.el7.x86_64
drwxr-xr-x. 3 root root       17 Feb 12 14:34 [0m[38;5;27mefi[0m
drwx------. 5 root root       97 Feb 12 14:34 [38;5;27mgrub2[0m
-rw-------. 1 root root 12405333 Feb 12 14:34 initramfs-3.10.0-1127.el7.x86_64.img
-rw-r--r--. 1 root root   320512 Feb 12 14:34 [38;5;9msymvers-3.10.0-1127.el7.x86_64.gz[0m
-rw-------. 1 root root  3611662 Feb 12 14:34 System.map-3.10.0-1127.el7.x86_64
-rwxr-xr-x. 1 root root  6762688 Feb 12 14:34 [38;5;34mvmlinuz-3.10.0-1127.el7.x86_64[0m
]0;root@lvm03:/mnt[root@lvm03 mnt]# echo "`blkid | grep var: | awk '{print $2}'` /var ext4 defaults 0 0" >> /etc/fstab[1P[1P[1P[1P[1@s[1@d[1@a[1@1[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P[1P[1P[1P[1@x[1@f[1@s[C[C[C[C[C[C[C[C[C[1P[1P[1P[1@b[1@o[1@t[1P[1@o[1@t
]0;root@lvm03:/mnt[root@lvm03 mnt]# cd /boot
]0;root@lvm03:/boot[root@lvm03 boot]# rm [K[K[Kll
total 22720
-rw-r--r--. 1 root root   153562 Mar 31  2020 config-3.10.0-1127.el7.x86_64
drwxr-xr-x. 3 root root       17 Apr 30  2020 [0m[38;5;27mefi[0m
drwx------. 5 root root       97 Apr 30  2020 [38;5;27mgrub2[0m
-rw-------. 1 root root 12405333 Apr 30  2020 initramfs-3.10.0-1127.el7.x86_64.img
-rw-r--r--. 1 root root   320512 Mar 31  2020 [38;5;9msymvers-3.10.0-1127.el7.x86_64.gz[0m
-rw-------. 1 root root  3611662 Mar 31  2020 System.map-3.10.0-1127.el7.x86_64
-rwxr-xr-x. 1 root root  6762688 Mar 31  2020 [38;5;34mvmlinuz-3.10.0-1127.el7.x86_64[0m
]0;root@lvm03:/boot[root@lvm03 boot]# rm -rf ./
rm: refusing to remove â€˜.â€™ or â€˜..â€™ directory: skipping â€˜./â€™
]0;root@lvm03:/boot[root@lvm03 boot]# rm -rf ./*
]0;root@lvm03:/boot[root@lvm03 boot]# ll
total 0
]0;root@lvm03:/boot[root@lvm03 boot]# cd /
]0;root@lvm03:/[root@lvm03 /]# mount [K[K[K[K[K[Kumount /mnt
]0;root@lvm03:/[root@lvm03 /]# mount /dev/d[Ksd1[Ka1 /mnt[K[K[Kboot
]0;root@lvm03:/[root@lvm03 /]# df -Th
Filesystem                Type      Size  Used Avail Use% Mounted on
devtmpfs                  devtmpfs  110M     0  110M   0% /dev
tmpfs                     tmpfs     118M     0  118M   0% /dev/shm
tmpfs                     tmpfs     118M  4.5M  114M   4% /run
tmpfs                     tmpfs     118M     0  118M   0% /sys/fs/cgroup
/dev/mapper/vgroot-lvroot xfs        10G  3.1G  7.0G  31% /
tmpfs                     tmpfs      24M     0   24M   0% /run/user/1000
/dev/sda1                 xfs       950M   60M  891M   7% /boot
]0;root@lvm03:/[root@lvm03 /]# cat /etc/fstab

#
# /etc/fstab
# Created by anaconda on Thu Apr 30 22:04:55 2020
#
# Accessible filesystems, by reference, are maintained under '/dev/disk'
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
UUID=1c419d6c-5064-4a2b-953c-05b2c67edb15 /                       xfs     defaults        0 0
/swapfile none swap defaults 0 0
#VAGRANT-BEGIN
# The contents below are automatically generated by Vagrant. Do not modify.
#VAGRANT-END
UUID="3de161b9-822b-4da7-b4e9-96183aff34ed" /boot xfs defaults 0 0
]0;root@lvm03:/[root@lvm03 /]# grub2-install /dev/sda
Installing for i386-pc platform.
Installation finished. No error reported.
]0;root@lvm03:/[root@lvm03 /]# grub2-mkconfig -o /boot/grub2/grub.cfg
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.10.0-1127.el7.x86_64
Found initrd image: /boot/initramfs-3.10.0-1127.el7.x86_64.img
done
]0;root@lvm03:/[root@lvm03 /]# cd /boot ; for i in `ls initramfs-*img`; do dracut -v $i `echo $i|sed "s/initramfs-//g;
> s/.img//g"` --force; done
Executing: /sbin/dracut -v initramfs-3.10.0-1127.el7.x86_64.img 3.10.0-1127.el7.x86_64 --force
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'plymouth' will not be installed, because command 'plymouthd' could not be found!
dracut module 'plymouth' will not be installed, because command 'plymouth' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
*** Including module: bash ***
*** Including module: nss-softokn ***
*** Including module: i18n ***
*** Including module: dm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 60-persistent-storage-dm.rules
Skipping udev rule: 55-dm.rules
*** Including module: kernel-modules ***
Omitting driver floppy
*** Including module: lvm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 56-lvm.rules
Skipping udev rule: 60-persistent-storage-lvm.rules
*** Including module: qemu ***
*** Including module: rootfs-block ***
*** Including module: terminfo ***
*** Including module: udev-rules ***
Skipping udev rule: 40-redhat-cpu-hotplug.rules
Skipping udev rule: 91-permissions.rules
*** Including module: biosdevname ***
*** Including module: systemd ***
*** Including module: usrmount ***
*** Including module: base ***
*** Including module: fs-lib ***
*** Including module: shutdown ***
*** Including modules done ***
*** Installing kernel module dependencies and firmware ***
*** Installing kernel module dependencies and firmware done ***
*** Resolving executable dependencies ***
*** Resolving executable dependencies done***
*** Hardlinking files ***
*** Hardlinking files done ***
*** Stripping files ***
*** Stripping files done ***
*** Generating early-microcode cpio image contents ***
*** No early-microcode cpio image needed ***
*** Store current command line parameters ***
*** Creating image file ***
*** Creating image file done ***
*** Creating initramfs image file '/boot/initramfs-3.10.0-1127.el7.x86_64.img' done ***
]0;root@lvm03:/boot[root@lvm03 boot]# cd /boot ; for i in `ls initramfs-*img`; do dracut -v $i `echo $i|sed "s/initramfs-//g;
s/.img//g"` --force; done[A[49Pgrub2-mkconfig -o /boot/grub2/grub.cfg
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[16Pinstall /dev/sda[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[8Pcat /etc/fstab

#
# /etc/fstab
# Created by anaconda on Thu Apr 30 22:04:55 2020
#
# Accessible filesystems, by reference, are maintained under '/dev/disk'
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
UUID=1c419d6c-5064-4a2b-953c-05b2c67edb15 /                       xfs     defaults        0 0
/swapfile none swap defaults 0 0
#VAGRANT-BEGIN
# The contents below are automatically generated by Vagrant. Do not modify.
#VAGRANT-END
UUID="3de161b9-822b-4da7-b4e9-96183aff34ed" /boot xfs defaults 0 0
]0;root@lvm03:/boot[root@lvm03 boot]# cat /etc/fstab[K[K[K[K[K[K[K[K[Kboot/grub2/grub.cfg
#
# DO NOT EDIT THIS FILE
#
# It is automatically generated by grub2-mkconfig using templates
# from /etc/grub.d and settings from /etc/default/grub
#

### BEGIN /etc/grub.d/00_header ###
set pager=1

if [ -s $prefix/grubenv ]; then
  load_env
fi
if [ "${next_entry}" ] ; then
   set default="${next_entry}"
   set next_entry=
   save_env next_entry
   set boot_once=true
else
   set default="${saved_entry}"
fi

if [ x"${feature_menuentry_id}" = xy ]; then
  menuentry_id_option="--id"
else
  menuentry_id_option=""
fi

export menuentry_id_option

if [ "${prev_saved_entry}" ]; then
  set saved_entry="${prev_saved_entry}"
  save_env saved_entry
  set prev_saved_entry=
  save_env prev_saved_entry
  set boot_once=true
fi

function savedefault {
  if [ -z "${boot_once}" ]; then
    saved_entry="${chosen}"
    save_env saved_entry
  fi
}

function load_video {
  if [ x$feature_all_video_module = xy ]; then
    insmod all_video
  else
    insmod efi_gop
    insmod efi_uga
    insmod ieee1275_fb
    insmod vbe
    insmod vga
    insmod video_bochs
    insmod video_cirrus
  fi
}

terminal_output console
if [ x$feature_timeout_style = xy ] ; then
  set timeout_style=menu
  set timeout=1
# Fallback normal timeout code in case the timeout_style feature is
# unavailable.
else
  set timeout=1
fi
### END /etc/grub.d/00_header ###

### BEGIN /etc/grub.d/00_tuned ###
set tuned_params=""
set tuned_initrd=""
### END /etc/grub.d/00_tuned ###

### BEGIN /etc/grub.d/01_users ###
if [ -f ${prefix}/user.cfg ]; then
  source ${prefix}/user.cfg
  if [ -n "${GRUB2_PASSWORD}" ]; then
    set superusers="root"
    export superusers
    password_pbkdf2 root ${GRUB2_PASSWORD}
  fi
fi
### END /etc/grub.d/01_users ###

### BEGIN /etc/grub.d/10_linux ###
menuentry 'CentOS Linux (3.10.0-1127.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-1127.el7.x86_64-advanced-30ecb7ef-f543-4e7b-97b1-4addbd0b9713' {
	load_video
	set gfxpayload=keep
	insmod gzio
	insmod part_msdos
	insmod xfs
	set root='hd0,msdos1'
	if [ x$feature_platform_search_hint = xy ]; then
	  search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  3de161b9-822b-4da7-b4e9-96183aff34ed
	else
	  search --no-floppy --fs-uuid --set=root 3de161b9-822b-4da7-b4e9-96183aff34ed
	fi
	linux16 /vmlinuz-3.10.0-1127.el7.x86_64 root=/dev/mapper/vgroot-lvroot ro no_timer_check console=tty0 console=ttyS0,115200n8 net.ifnames=0 biosdevname=0 elevator=noop crashkernel=auto 
	initrd16 /initramfs-3.10.0-1127.el7.x86_64.img
}
if [ "x$default" = 'CentOS Linux (3.10.0-1127.el7.x86_64) 7 (Core)' ]; then default='Advanced options for CentOS Linux>CentOS Linux (3.10.0-1127.el7.x86_64) 7 (Core)'; fi;
### END /etc/grub.d/10_linux ###

### BEGIN /etc/grub.d/20_linux_xen ###
### END /etc/grub.d/20_linux_xen ###

### BEGIN /etc/grub.d/20_ppc_terminfo ###
### END /etc/grub.d/20_ppc_terminfo ###

### BEGIN /etc/grub.d/30_os-prober ###
### END /etc/grub.d/30_os-prober ###

### BEGIN /etc/grub.d/40_custom ###
# This file provides an easy way to add custom menu entries.  Simply type the
# menu entries you want to add after this comment.  Be careful not to change
# the 'exec tail' line above.
### END /etc/grub.d/40_custom ###

### BEGIN /etc/grub.d/41_custom ###
if [ -f  ${config_directory}/custom.cfg ]; then
  source ${config_directory}/custom.cfg
elif [ -z "${config_directory}" -a -f  $prefix/custom.cfg ]; then
  source $prefix/custom.cfg;
fi
### END /etc/grub.d/41_custom ###
]0;root@lvm03:/boot[root@lvm03 boot]# reboot
Connection to 127.0.0.1 closed by remote host.
Connection to 127.0.0.1 closed.
]0;tesla@ol85:~/homework03[tesla@ol85 homework03]$ vagrant ssh
Last login: Sat Feb 12 14:31:25 2022 from 10.0.2.2
]0;vagrant@lvm03:~[?1034h[vagrant@lvm03 ~]$ 
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ lsblk
NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda               8:0    0   40G  0 disk 
â”œâ”€sda1            8:1    0  953M  0 part /boot
â””â”€sda2            8:2    0 39.1G  0 part 
sdb               8:16   0   10G  0 disk 
â””â”€vgroot-lvroot 253:0    0   10G  0 lvm  /
sdc               8:32   0    2G  0 disk 
sdd               8:48   0    1G  0 disk 
sde               8:64   0    1G  0 disk 
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ pvcreate /dev/sda2
  WARNING: Running as a non-root user. Functionality may be unavailable.
  /run/lvm/lvmetad.socket: access failed: Permission denied
  WARNING: Failed to connect to lvmetad. Falling back to device scanning.
  /run/lock/lvm/P_orphans:aux: open failed: Permission denied
  Can't get lock for orphan PVs.
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ sudo -i
]0;root@lvm03:~[?1034h[root@lvm03 ~]# pvcrete[K[Kate /dev/sda2
WARNING: xfs signature detected on /dev/sda2 at offset 0. Wipe it? [y/n]: y
  Wiping xfs signature on /dev/sda2.
  Physical volume "/dev/sda2" successfully created.
]0;root@lvm03:~[root@lvm03 ~]# vgreacte VolGroup00
-bash: vgreacte: command not found
]0;root@lvm03:~[root@lvm03 ~]# vgreacte VolGroup00[1@c[C[C[C[C[1P[C[C[C[C[C[C[C[C[C[C[C[C[C /dev/sa[Kda1[K2
  Cannot archive volume group metadata for VolGroup00 to read-only filesystem.
]0;root@lvm03:~[root@lvm03 ~]# lsblk
NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda               8:0    0   40G  0 disk 
â”œâ”€sda1            8:1    0  953M  0 part /boot
â””â”€sda2            8:2    0 39.1G  0 part 
sdb               8:16   0   10G  0 disk 
â””â”€vgroot-lvroot 253:0    0   10G  0 lvm  /
sdc               8:32   0    2G  0 disk 
sdd               8:48   0    1G  0 disk 
sde               8:64   0    1G  0 disk 
]0;root@lvm03:~[root@lvm03 ~]# vgcreate /[KVolGroup00 /dev/sda2
  Cannot archive volume group metadata for VolGroup00 to read-only filesystem.
]0;root@lvm03:~[root@lvm03 ~]# pvdisplay
  --- Physical volume ---
  PV Name               /dev/sdb
  VG Name               vgroot
  PV Size               10.00 GiB / not usable 4.00 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              2559
  Free PE               0
  Allocated PE          2559
  PV UUID               LjJhho-uToP-I3lS-Rg2d-Ir5l-qFqz-XH3C71
   
  "/dev/sda2" is a new physical volume of "<39.07 GiB"
  --- NEW Physical volume ---
  PV Name               /dev/sda2
  VG Name               
  PV Size               <39.07 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               F0j6du-PnNT-fkSO-DTND-136U-FZPj-JFZzFR
   
]0;root@lvm03:~[root@lvm03 ~]# lvm
[?1034hlvm> lvs
  LV     VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  lvroot vgroot -wi-ao---- <10.00g                                                    
lvm> q
  No such command 'q'.  Try 'help'.
lvm> ^C
]0;root@lvm03:~[root@lvm03 ~]# e2fsck -fy /dev/sda2
e2fsck 1.42.9 (28-Dec-2013)
ext2fs_open2: Bad magic number in super-block
e2fsck: Superblock invalid, trying backup blocks...
e2fsck: Bad magic number in super-block while trying to open /dev/sda2

The superblock could not be read or does not describe a correct ext2
filesystem.  If the device is valid and it really contains an ext2
filesystem (and not swap or ufs or something else), then the superblock
is corrupt, and you might try running e2fsck with an alternate superblock:
    e2fsck -b 8193 <device>

]0;root@lvm03:~[root@lvm03 ~]# pvdia[Ksplay
  --- Physical volume ---
  PV Name               /dev/sdb
  VG Name               vgroot
  PV Size               10.00 GiB / not usable 4.00 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              2559
  Free PE               0
  Allocated PE          2559
  PV UUID               LjJhho-uToP-I3lS-Rg2d-Ir5l-qFqz-XH3C71
   
  "/dev/sda2" is a new physical volume of "<39.07 GiB"
  --- NEW Physical volume ---
  PV Name               /dev/sda2
  VG Name               
  PV Size               <39.07 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               F0j6du-PnNT-fkSO-DTND-136U-FZPj-JFZzFR
   
]0;root@lvm03:~[root@lvm03 ~]# pvchange --hrlp[K[K[Kelp
  pvchange - Change attributes of physical volume(s)

  Change properties of all PVs.
  pvchange
	( -x|--allocatable y|n,
	  -u|--uuid,
	  -a|--all,
	     --addtag Tag,
	     --deltag Tag,
	     --metadataignore y|n )

	[ COMMON_OPTIONS ]

  Change properties of specified PVs.
  pvchange
	( -x|--allocatable y|n,
	  -u|--uuid,
	     --addtag Tag,
	     --deltag Tag,
	     --metadataignore y|n )
	 PV|Select ...
	[ -S|--select String ]
	[ COMMON_OPTIONS ]

  Common options for command:
	[ -A|--autobackup y|n ]
	[ -f|--force ]
	[ -u|--uuid ]
	[    --ignoreskippedcluster ]
	[    --reportformat basic|json ]

  Common options for lvm:
	[ -d|--debug ]
	[ -h|--help ]
	[ -q|--quiet ]
	[ -v|--verbose ]
	[ -y|--yes ]
	[ -t|--test ]
	[    --commandprofile String ]
	[    --config String ]
	[    --driverloaded y|n ]
	[    --lockopt String ]
	[    --longhelp ]
	[    --profile String ]
	[    --version ]

  Use --longhelp to show all options and advanced commands.
]0;root@lvm03:~[root@lvm03 ~]# pvchange -x y /dev/sda2
  Allocatability not supported by orphan lvm2 format PV /dev/sda2
  Physical volume /dev/sda2 not changed
  0 physical volumes changed / 1 physical volume not changed
]0;root@lvm03:~[root@lvm03 ~]# pvremove[Ke /dev/sda2
  Labels on physical volume "/dev/sda2" successfully wiped.
]0;root@lvm03:~[root@lvm03 ~]# pvremove /dev/sda2[1P /dev/sda2[1P /dev/sda2[1P /dev/sda2[1P /dev/sda2[1P /dev/sda2[1P /dev/sda2c /dev/sda2r /dev/sda2e /dev/sda2a /dev/sda2t /dev/sda2e /dev/sda2
  Physical volume "/dev/sda2" successfully created.
]0;root@lvm03:~[root@lvm03 ~]# vgcreate vgroot00 /dev/sda2
  Cannot archive volume group metadata for vgroot00 to read-only filesystem.
]0;root@lvm03:~[root@lvm03 ~]# logout
]0;vagrant@lvm03:~[vagrant@lvm03 ~]$ logout
Connection to 127.0.0.1 closed.
]0;tesla@ol85:~/homework03[tesla@ol85 homework03]$ exit

Script done on 2022-02-12 17:55:36+03:00
